{"version":3,"sources":["components/integration/integration.component.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;YAea,oBAAoB;gBAc7B,8BAAkD,gBAAmC,EAAmC,YAA2B;oBAAnJ,iBAEC;oBAFiD,qBAAgB,GAAhB,gBAAgB,CAAmB;oBAAmC,iBAAY,GAAZ,YAAY,CAAe;oBAbnJ,UAAK,GAAW,oBAAoB,CAAC;oBAkBrC,uBAAkB,GAAG;wBACjB,KAAI,CAAC,gBAAgB,CAAC,sBAAsB,EAAoB,CAAC,SAAS,CAAC,UAAA,MAAM;4BAC7E,KAAI,CAAC,eAAe,GAAG,MAAM,CAAC;4BAC9B,OAAO,CAAC,IAAI,CAAC,KAAI,CAAC,eAAe,CAAC,CAAC;4BACnC,KAAI,CAAC,UAAU,GAAG;gCACd,KAAK,EAAE,EAAE,IAAI,EAAE,uBAAuB,EAAE;gCACxC,KAAK,EAAE,EAAE,IAAI,EAAE,KAAK,EAAE;gCAEtB,MAAM,EAAE,CAAC;wCACL,IAAI,EAAE,uBAAuB;wCAC7B,YAAY,EAAE,IAAI;wCAClB,IAAI,EAAE,CAAC;gDACH,IAAI,EAAE,oBAAoB;gDAC1B,CAAC,EAAE,KAAI,CAAC,eAAe,CAAC,iBAAiB;6CAC5C,EAAE;gDACC,IAAI,EAAE,gBAAgB;gDACtB,CAAC,EAAE,KAAI,CAAC,eAAe,CAAC,aAAa;6CACxC;4CACD;gDACI,IAAI,EAAE,mBAAmB;gDACzB,CAAC,EAAE,KAAI,CAAC,eAAe,CAAC,cAAc;gDACtC,MAAM,EAAE,IAAI;gDACZ,QAAQ,EAAE,IAAI;6CACjB,CAAC;qCACL,CAAC;6BACL,CAAC;wBAEN,CAAC,CAAC,CAAC;oBAEP,CAAC,CAAA;oBAED,gBAAW,GAAG;wBACV,KAAI,CAAC,gBAAgB,CAAC,UAAU,EAAE,CAAC,SAAS,CAAC,UAAA,MAAM;4BAC/C,KAAI,CAAC,KAAK,GAAG,MAAM,CAAC;wBAExB,CAAC,CAAC,CAAC;oBAEP,CAAC,CAAA;gBAxCD,CAAC;gBAND,uCAAQ,GAAR;oBACI,IAAI,CAAC,kBAAkB,EAAE,CAAC;oBAC1B,IAAI,CAAC,WAAW,EAAE,CAAC;gBACvB,CAAC;gBA4CL,2BAAC;YAAD,CAzDA,AAyDC,IAAA;YAzDY,oBAAoB;gBALhC,gBAAS,CAAC;oBACP,QAAQ,EAAE,QAAQ;oBAClB,WAAW,EAAE,yDAAyD;iBACzE,CAAC;gBAgBgB,WAAA,aAAM,CAAC,mBAAmB,CAAC,CAAA,EAA+C,WAAA,aAAM,CAAC,eAAe,CAAC,CAAA;;eAdtG,oBAAoB,CAyDhC;;QACD,CAAC","file":"integration.component.js","sourcesContent":["import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\nimport { NgModule, Component, Inject, forwardRef, Injector, OpaqueToken } from \"@angular/core\";\r\n\r\nimport { BrowserModule } from '@angular/platform-browser';\r\nimport { ChartModule } from 'angular2-highcharts';\r\nimport { IDashboardService, IImageService } from \"../../interfaces/interfaces\";\r\nimport { DashboardService } from \"../../services/dashboardService\";\r\nimport { ImageService } from \"../../services/imageService\";\r\nimport { IResponse, IContainerScanned, IContainerStatus, Role } from \"../../models/viewModels\";\r\n\r\n@Component({\r\n    selector: \"charts\",\r\n    templateUrl: \"/view/components/integration/integration.component.html\"\r\n})\r\n\r\nexport class IntegrationComponent {\r\n    title: string = \"Integration Charts\";\r\n    pieOptions: any;\r\n    imagePath: string;\r\n    imageBase64: string;\r\n    imageBytes: any;\r\n    containerStatus: IContainerStatus;\r\n    roles: Role[];\r\n    imageAsBytes: any;\r\n\r\n    ngOnInit() {\r\n        this.getContainerStatus();\r\n        this.getToDoList();\r\n    }\r\n    constructor( @Inject('IDashboardService') private dashboardService: IDashboardService, @Inject('IImageService') private imageService: IImageService) {\r\n\r\n    }\r\n\r\n    \r\n    getContainerStatus = () => {\r\n        this.dashboardService.getContainerScanStatus<IContainerStatus>().subscribe(result => {\r\n            this.containerStatus = result;\r\n            console.info(this.containerStatus);\r\n            this.pieOptions = {\r\n                title: { text: 'Container Scan Status' },\r\n                chart: { type: 'pie' },\r\n\r\n                series: [{\r\n                    name: 'Container Scan Status',\r\n                    colorByPoint: true,\r\n                    data: [{\r\n                        name: 'Ignored Containers',\r\n                        y: this.containerStatus.ignoredContainers\r\n                    }, {\r\n                        name: 'Bad Containers',\r\n                        y: this.containerStatus.badContainers\r\n                    },\r\n                    {\r\n                        name: 'Passed Containers',\r\n                        y: this.containerStatus.goodContainers,\r\n                        sliced: true,\r\n                        selected: true\r\n                    }]\r\n                }]\r\n            };\r\n\r\n        });\r\n\r\n    }\r\n\r\n    getToDoList = () => {\r\n        this.dashboardService.getMyRoles().subscribe(result => {\r\n            this.roles = result;\r\n\r\n        });\r\n\r\n    }\r\n}\r\n"]}