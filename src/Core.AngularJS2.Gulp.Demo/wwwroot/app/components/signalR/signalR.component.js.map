{"version":3,"sources":["components/signalR/signalR.component.ts"],"names":[],"mappings":"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","file":"signalR.component.js","sourcesContent":["import { Component, ViewChild, TemplateRef } from \"@angular/core\";\r\nimport { IResponse, IWidget, IWidgetPosition, IImageOptions } from \"../../models/viewModels\";\r\nimport { } from 'ng2-drag-drop';\r\n@Component({\r\n    selector: \"signalR\",\r\n    templateUrl: \"/view/components/signalR/signalR.component.html\"\r\n})\r\n\r\n\r\nexport class SignalRComponent {\r\n    title: string;\r\n    widgets: IWidget[];\r\n    imagePath: any;\r\n    widgetPosition: IWidgetPosition[];\r\n    options: IImageOptions;\r\n    overlays = [];\r\n    @ViewChild(\"mapTemplate\") mapTemplate: TemplateRef<any>;\r\n    @ViewChild(\"imageTemplate\") imageTemplate: TemplateRef<any>;\r\n    @ViewChild(\"stockTemplate\") stockTemplate: TemplateRef<any>;\r\n    @ViewChild(\"imageTemplateViewer\") imageTemplateViewer;\r\n    template1: any;\r\n    template2: any;\r\n    template3: any;\r\n\r\n    constructor() {\r\n        let vm = this;\r\n        vm.title = \"My Dashboard\";\r\n        vm.widgets = [\r\n            { id: 1, image: \"\", name: \"imageTemplate\", type: \"Image\", position : 0 },\r\n            { id: 2, image: \"\", name: \"mapTemplate\", type: \"Chart\", position: 0},\r\n            { id: 3, image: \"\", name: \"stockTemplate\", type: \"Chart\", position: 0}\r\n        ];\r\n        vm.widgetPosition = [\r\n            { position: '1', widget: null },\r\n            { position: '2', widget: null },\r\n            { position: '3', widget: null },\r\n        ];\r\n        vm.imagePath = \"http://localhost:53428/Images/Container.Tiff\";\r\n        //this.imagePath = \"http://localhost:61662/images/test.jpg\";\r\n\r\n        vm.overlays = [{ x: 50, y: 155, w: 106, h: 29, color: '#00FF00' }];\r\n        vm.options = {\r\n            ctx: null,\r\n            adsrc: null,\r\n            zoom: {\r\n                value: 1.0,\r\n                step: 0.1,\r\n                min: 0.05,\r\n                max: 6\r\n            },\r\n            rotate: {\r\n                value: 0,\r\n                step: 90\r\n            },\r\n            controls: {\r\n                toolbar: true,\r\n                image: true,\r\n                sound: false,\r\n                fit: 'page',\r\n                disableZoom: false,\r\n                disableMove: false,\r\n                disableRotate: false,\r\n                numPage: 1,\r\n                totalPage: 1,\r\n                filmStrip: false,\r\n                enableOverlay : false\r\n            },\r\n            info: {}\r\n        };\r\n    }\r\n\r\n    onDropFirst(e: any) {\n        let index = this.widgets.indexOf(e.dragData);\n        if (index >= 0)\n            this.udpatePosition(this.widgets[index], '1');\n    }\n    onDropSecond(e: any) {\n        let index = this.widgets.indexOf(e.dragData);\n        if (index >= 0)\n            this.udpatePosition(this.widgets[index], '2');\n    }\n    onDropThird(e: any) {\n        let index = this.widgets.indexOf(e.dragData);\n        if (index >= 0)\n            this.udpatePosition(this.widgets[index], '3');\n    }\n    udpatePosition = (widget: IWidget, position: string) => {\n        this.widgetPosition.forEach((item) => {\n            if (item.position === position)\n                item.widget = widget;\n        });\n        this.removeItem(widget, this.widgets);\n        switch (position) {\n            case '1':\r\n                this.template1 = this.getTemplate(widget.name) \r\n                break;\r\n            case '2':\r\n                this.template2 = this.getTemplate(widget.name) \r\n                break;\r\n            case '3':\r\n                this.template3 = this.getTemplate(widget.name) \r\n                break;\r\n        }\n    };\n\n    removeItem = (item: any, list: Array<any>) => {\n        let index = list.map((e) => {\n            return e.name\n        }).indexOf(item.name);\n        list.splice(index, 1);\n    }\n\n    getTemplate = (name: string) => {\n        switch (name) {\n            case 'imageTemplate':\n                return this.imageTemplate;\n            case 'mapTemplate':\n                return this.mapTemplate;\n            case 'stockTemplate':\n                return this.stockTemplate;\n\n        }\n    }\n\n    positionTemplates = () => {\n        this.widgets.forEach((item) => {\n            if (item.position == 1)\n                this.template1 = this.getTemplate(item.name) \n            else if (item.position == 2)\n                this.template2 = this.getTemplate(item.name) \n            else if (item.position == 3)\n                this.template3 = this.getTemplate(item.name) \n        });\r\n    }\n\r\n}\r\n"]}